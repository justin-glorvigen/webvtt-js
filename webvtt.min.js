String.prototype.padLeft=function(a,b){return new Array(a-this.length+1).join(b||"0")+this},function(){var a=window.TimeSpan=function(a,b,c,d,e){var f="1.2",g=1e3,h=6e4,i=36e5,j=864e5,k=0,l=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};l(e)&&(k+=e*j),l(d)&&(k+=d*i),l(c)&&(k+=c*h),l(b)&&(k+=b*g),l(a)&&(k+=a),this.addMilliseconds=function(a){l(a)&&(k+=a)},this.addSeconds=function(a){l(a)&&(k+=a*g)},this.addMinutes=function(a){l(a)&&(k+=a*h)},this.addHours=function(a){l(a)&&(k+=a*i)},this.addDays=function(a){l(a)&&(k+=a*j)},this.subtractMilliseconds=function(a){l(a)&&(k-=a)},this.subtractSeconds=function(a){l(a)&&(k-=a*g)},this.subtractMinutes=function(a){l(a)&&(k-=a*h)},this.subtractHours=function(a){l(a)&&(k-=a*i)},this.subtractDays=function(a){l(a)&&(k-=a*j)},this.isTimeSpan=!0,this.add=function(a){a.isTimeSpan&&(k+=a.totalMilliseconds())},this.subtract=function(a){a.isTimeSpan&&(k-=a.totalMilliseconds())},this.equals=function(a){if(a.isTimeSpan)return k===a.totalMilliseconds()},this.totalMilliseconds=function(a){var b=k;return a===!0&&(b=Math.floor(b)),b},this.totalSeconds=function(a){var b=k/g;return a===!0&&(b=Math.floor(b)),b},this.totalMinutes=function(a){var b=k/h;return a===!0&&(b=Math.floor(b)),b},this.totalHours=function(a){var b=k/i;return a===!0&&(b=Math.floor(b)),b},this.totalDays=function(a){var b=k/j;return a===!0&&(b=Math.floor(b)),b},this.milliseconds=function(){return k%1e3},this.seconds=function(){return Math.floor(k/g)%60},this.minutes=function(){return Math.floor(k/h)%60},this.hours=function(){return Math.floor(k/i)%24},this.days=function(){return Math.floor(k/j)},this.getVersion=function(){return f}};a.FromSeconds=function(b){return new a(0,b,0,0,0)},a.FromMinutes=function(b){return new a(0,0,b,0,0)},a.FromHours=function(b){return new a(0,0,0,b,0)},a.FromDays=function(b){return new a(0,0,0,0,b)},a.FromDates=function(b,c,d){var e=c.valueOf()-b.valueOf();return d===!0&&(e=Math.abs(e)),new a(e,0,0,0,0)}}();var webvtt=function(a,b,c,d){this.text=a,this.startSeconds=TimeSpan.FromSeconds(b),this.endSeconds=TimeSpan.FromSeconds(c),d?this.speaker=d:this.speaker=""};webvtt.prototype.ToWebVTTString=function(){var a=this.FormatWebVTTTime(this.startSeconds)+" --> "+this.FormatWebVTTTime(this.endSeconds)+"\n";return this.speaker&&(a=a+"<v "+this.speaker+">"),a=a+this.text+"\n\n"},webvtt.prototype.FormatWebVTTTime=function(a){return a.minutes().toString().padLeft(3)+":"+a.seconds().toString().padLeft(2)+"."+a.milliseconds().toString().padLeft(3)};var CompileWebVTTFile=function(a){var b="Err: invalid input. Must by an array of webvtt";if(Array.isArray(a)){for(var c="WEBVTT\n\n",d=0;d<a.length;d++){var e=a[d];if(!e||!e.ToWebVTTString||"function"!=typeof e.ToWebVTTString)throw b;c+=e.ToWebVTTString()}return c}throw b};
